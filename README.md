# ImgRegPytorchProject

## Environment Setup

To ensure compatibility and simplify dependency management, you can use the provided `environment.yaml` file to create a Conda environment. This environment setup includes CPU-based PyTorch packages only. To run all experiments, at least 60 GB of memory is required.

Follow these steps to set up the environment:

1. Open a terminal or command prompt and navigate to the directory where the `environment.yaml` file is located.
2. Run the following command to create the Conda environment from the YAML file:
`conda env create -f environment.yaml`
3. After the environment is created, activate it using the following command:
`conda activate ImgRegPytorchProject-env`

## Overview

- `data`: Two MRI images of hands that are used throughout the research.
- `results`
    - `figs`: All figures that appear in the manuscript are generated by a script and then placed in this folder.
- `scripts`: Scripts used to generate results.
    - `create_AD_table_6param.py` and `create_AD_table_50param.py`: Measures the execution time of evaluating objective functions with six and fifty transformation parameters and the time of computing their derivatives with Automatic Differentiation.
    - `create_NandGN_pred-corre_plot.py`: Generates the data and plot that shows the predictor corrector method requires using exact Hessians over approximated Hessians to provide any benefits over a traditional multi-scale method.
    - `create_scaling_plot.py`: Generates the plot that demonstrates the scaling parameter $\theta$
    - `create_SingleScaleFailure.py`: Generates an example of registering from a single scale fails while registering with multi-scaling succeeds.
    - `solve_SuperResolution.ipynb`: Solves the super resolution problem using AD to differentiate the projections and compares to ignoring the derivative of the projection.
    - `test_InexactCG.ipynb`: Experiments with using less iterations of Conjugate Gradient to get less exact projections and how it affects the performance.
    - `test_percCG.ipynb`: Experiments with tracking only a portion of the last iterations of CG and how it affects the performance.
- `src`: Contains utility code used throughout the scripts.

